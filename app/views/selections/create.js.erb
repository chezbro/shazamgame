console.log("AJAX response received");
$(".flash").html('<%= j render partial: "layouts/notice" %>');

<% if @errors == true %>
  // Show alert for errors including duplicate pref pick validation
  alert('<%= j flash.now[:notice] %>');
<% else %>
  console.log("Game ID: <%= @game %>");
  var button = $(".selection-button-<%= @game %>");
  console.log("Found button:", button.length > 0);
  button.replaceWith('<input type="submit" name="commit" value="Update Selection" class="btn btn-warning selection-button-<%= @game %>" data-disable-with="Update Selection">');
<% end %>

$('.alert').delay(7000).fadeOut();
$('.flash').delay(7000).fadeOut();

